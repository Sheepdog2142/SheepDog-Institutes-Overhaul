// Add KER and kOS support to all command parts by default.
// ==================================================

@PART:HAS[@MODULE[ModuleCommand]]:AFTER[UnKerballedStart]
{
    MODULE:NEEDS[KerbalEngineer]
    {
        name = FlightEngineerModule
        TechRequired = start
    }
    MODULE:NEEDS[kOS]
    {
        name = kOSProcessor
        diskSpace = 500
        TechRequired = start
    }
}

// Create upgraded variants of kOS processor with increased disk space.
// ============================================================

// Create new part variant for electrics
+PART[kOSProcessorBase]:NEEDS[kOS,electrics]:AFTER[UnKerballedStart]
{
    %name = kOSProcessor_electrics
    @MODULE[kOSProcessor]
    {
        %diskSpace = 750
        %TechRequired = electrics
    }
}

// Create new part variant for advElectrics
+PART[kOSProcessorBase]:NEEDS[kOS,advElectrics]:AFTER[UnKerballedStart]
{
    %name = kOSProcessor_advElectrics
    @MODULE[kOSProcessor]
    {
        %diskSpace = 1000
        %TechRequired = advElectrics
    }
}

// Create new part variant for specializedElectrics
+PART[kOSProcessorBase]:NEEDS[kOS,specializedElectrics]:AFTER[UnKerballedStart]
{
    %name = kOSProcessor_specializedElectrics
    @MODULE[kOSProcessor]
    {
        %diskSpace = 1250
        %TechRequired = specializedElectrics
    }
}

// Create new part variant for largeElectrics
+PART[kOSProcessorBase]:NEEDS[kOS,largeElectrics]:AFTER[UnKerballedStart]
{
    %name = kOSProcessor_largeElectrics
    @MODULE[kOSProcessor]
    {
        %diskSpace = 1500
        %TechRequired = largeElectrics
    }
}

// Create new part variant for experimentalElectrics
+PART[kOSProcessorBase]:NEEDS[kOS,experimentalElectrics]:AFTER[UnKerballedStart]
{
    %name = kOSProcessor_experimentalElectrics
    @MODULE[kOSProcessor]
    {
        %diskSpace = 1750
        %TechRequired = experimentalElectrics
    }
}
