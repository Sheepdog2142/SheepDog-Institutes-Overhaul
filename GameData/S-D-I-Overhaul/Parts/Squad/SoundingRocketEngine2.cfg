+PART[liquidEngine_v2]:FINAL
{
    %name = SDI_SoundingEngine_0625_Advanced
    %title = LV-S10 "Buzzer" Sounding Rocket Engine
    %description = A boosted version of the Whistler engine, offering stronger thrust for heavier sounding payloads.
    %manufacturer = SheepDog Institute

    %TechRequired = soundingEnhancements2
    %entryCost = 525
    %cost = 525
    %mass = 0.4
    %bulkheadProfiles = size0
    %rescaleFactor = 0.5

    %node_stack_top = 0.0, 0, 0.0, 0.0, 1.0, 0.0
    %node_stack_bottom = 0.0, -1.65, 0.0, 0.0, -1.0, 0.0

    @MODULE[ModuleEngines*]
    {
        @maxThrust = 35
        !atmosphereCurve {}
        atmosphereCurve
        {
            key = 0 290
            key = 1 255
            key = 7 0.001
        }

    }

    @fx_exhaustFlame_blue_small = 0.0, -0.45, 0.0, 0.0, 1.0, 0.0, running
    @fx_exhaustLight_blue = 0.0, -0.45, 0.0, 0.0, 0.0, 1.0, running
    @fx_smokeTrail_light = 0.0, -0.45, 0.0, 0.0, 1.0, 0.0, running
    @fx_exhaustSparks_flameout = 0.0, -0.45, 0.0, 0.0, 1.0, 0.0, flameout

    !DRAG_CUBE {}
    DRAG_CUBE
    {
        cube = Default, 0.42,0.66,0.35, 0.42,0.66,0.35, 0.2,0.66,0.9, 0.2,0.66,0.9, 0.42,0.66,0.35, 0.42,0.66,0.35, 0,0,0, 0.625,0.98,0.625
    }

    %MODULE:NEEDS[RealFuels]
    {
        name = ModuleEngineConfigs
        type = ModuleEngines
        origMass = 0.4
        
        @CONFIG
        {
            name = Kerolox-Buzzer
            minThrust = 0
            maxThrust = 35
            ignition = 1
            pressureFed = true
            propellant = Kerosene 0.9
            propellant = LqdOxygen 1.1
            IspSL = 255
            IspV = 290
        }
    }

    %MODULE:NEEDS[KerbalismDefault]
    {
        name = ModuleReliability
        type = Engine
        title = LV-S10 "Buzzer" Reliability
        mtbf = 540
    }

    %MODULE:NEEDS[KerbalismDefault]
    {
        name = ModuleData
        type = engine
        title = LV-S10 "Buzzer"
        nominal_duration = 240s
        quality = High
    }

    
%MODULE:NEEDS[Waterfall,!RealPlume]
{
    name = ModuleWaterfallFX
   moduleID = SDI_WF_FX
    engineID = MainEngine

    CONTROLLER
    {
        name = throttle
        linkedTo = throttle
    }

    @CONTROLLER
    {
        name = atmosphereDepth
        linkedTo = atmosphere_density
    }

    TEMPLATE
    {
        templateName = Waterfall-Torch
        overrideParentTransform = thrustTransform
        scale = 1.0, 1.0, 1.0
        position = 0, 0, -0.20
    }
}

    %PLUME:NEEDS[RealPlume,SmokeScreen]
    {
        name = Kerolox-Lower
        transformName = thrustTransform
       localRotation = 0,0,0
        flarePosition = 0,0,0.1
        plumePosition = 0,0,0.3
        plumeScale = 0.2
        flareScale = 0.4
        energy = 1.1
        speed = 0.7
    }

    @MODULE[ModuleEngines*]:NEEDS[RealPlume]
    {
        %powerEffectName = Kerolox-Lower
        !runningEffectName = DELETE
    }
}
